---
import ContentLayout from '@/layouts/ContentLayout.astro'
import { getSortedPosts, type PostWithHero } from '@/lib/astro/post'

title: 'Blog Home'

const posts: PostWithHero[] = await getSortedPosts()
---

<ContentLayout title="Resume" tab="Resume">
  <section class="mx-auto max-w-4xl px-4 py-12" slot="main">
    <h1
      class="mb-8 text-center text-4xl font-extrabold text-zinc-900 dark:text-white"
    >
      Latest Blog Posts
    </h1>
    <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
      {
        posts.map(post => (
          <a
            href={post.id}
            class="group block overflow-hidden rounded-2xl border border-zinc-200 bg-white shadow-lg transition-transform hover:-translate-y-1 hover:shadow-2xl dark:border-zinc-800 dark:bg-zinc-900"
          >
            <img
              src={post.data.resolvedHero}
              alt={post.data.title}
              class="h-48 w-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="p-6">
              <h2 class="mb-2 text-2xl font-bold text-zinc-900 transition group-hover:text-amber-500 dark:text-white">
                {post.data.title}
              </h2>
              <p class="mb-4 text-zinc-500 dark:text-zinc-400">
                {post.data.description}
              </p>
              <div class="mb-2 flex items-center gap-x-3">
                <img
                  src={post.data.resolvedHero}
                  class="h-8 w-8 rounded-full border border-zinc-300 dark:border-zinc-700"
                />
                <span class="text-sm text-zinc-700 dark:text-zinc-300">
                  {post.data.authors?.[0]! ?? ''}
                </span>
                <span class="text-xs text-zinc-400 dark:text-zinc-500">
                  {post.data.added}
                </span>
              </div>
            </div>
          </a>
        ))
      }
    </div>
  </section>
</ContentLayout>
