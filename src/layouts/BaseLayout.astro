---
import { SITE_DESCRIPTION } from '@/consts'
import type { ColorMode } from '@/interfaces/color-mode'
import { cn } from '@/lib/shadcn-utils'
import BaseHead from '@components/BaseHead.astro'
import Footer from '@components/Footer.astro'
import Header from '@components/header/Header.astro'
import { type ILayoutProps } from '@interfaces/layout-props'

interface Props extends ILayoutProps {
  headerBg?: string
  mode?: ColorMode
}

const BODY_CLS = 'margin-0 min-h-screen text-foreground flex flex-col grow'

let {
  title = '',
  description = '',
  bg = 'bg-body',
  tab,
  className,
} = Astro.props

if (!description) {
  description = SITE_DESCRIPTION
}

const cls = cn(BODY_CLS, bg)

const { mode = 'light' } = Astro.props
---

<html lang="en" class={cls}>
  <head>
    <BaseHead title={title} description={description} />
    <slot name="head" />
  </head>

  <body class={cn(cls, className)}>
    <Header tab={tab} mode={mode} />

    <slot name="main" />
    <!-- <slot name="footer" /> -->

    <Footer />
  </body>
</html>
